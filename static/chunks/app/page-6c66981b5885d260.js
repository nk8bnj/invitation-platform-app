(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6054:function(t,e,n){Promise.resolve().then(n.bind(n,4388))},5870:function(t,e,n){"use strict";n.d(e,{b:function(){return a}});let i="https://6672a7676ca902ae11b12eff.mockapi.io",a={async getInvitations(){let t=await fetch("".concat(i,"/invitations"));return await t.json()},async addInvitation(t){let e=await fetch("".concat(i,"/invitations"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await e.json()},async editInvitation(t,e){let n=await fetch("".concat(i,"/invitations/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await n.json()},deleteInvitation:async t=>(await fetch("".concat(i,"/invitations/").concat(t),{method:"DELETE"})).ok}},4388:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return h}});var i=n(7437),a=n(662),s=n(2265),o=n(5870),c=n(6341),r=n(7138),l=t=>{let{invitation:e,handleDelete:n}=t;return(0,i.jsxs)("div",{className:"border p-4 rounded flex flex-col justify-between h-full",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-bold",children:e.title}),(0,i.jsx)("p",{children:e.message}),(0,i.jsxs)("p",{children:[e.date," at ",e.time]}),(0,i.jsx)("p",{children:e.location})]}),(0,i.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,i.jsx)(r.default,{href:"/invitation/".concat(e.id),children:(0,i.jsx)("p",{className:"text-blue-500",children:"Edit"})}),(0,i.jsx)("button",{className:"text-red-500",onClick:()=>n(e.id),children:"Delete"})]})]})},d=n(2753),u=n.n(d);function x(){return(0,i.jsx)("div",{className:u().loader})}function h(){let[t,e]=(0,s.useState)(!0),n=(0,a.F)(t=>t.invitations);(0,s.useEffect)(()=>{(async()=>{try{let t=await o.b.getInvitations();a.F.setState({invitations:t})}catch(t){console.error("Error fetching invitations:",t)}finally{e(!1)}})()},[]);let r=async t=>{if(t)try{await o.b.deleteInvitation(t),a.F.getState().deleteInvitation(t)}catch(t){console.error("Error deleting invitation:",t)}};return(0,i.jsxs)("div",{children:[(0,i.jsx)(c.Z,{}),(0,i.jsxs)("main",{className:"container mx-auto p-4",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Your Invitations"}),t?(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(x,{})}):0===n.length?(0,i.jsx)("p",{className:"text-center text-gray-500",children:"You don't have any invitations."}):(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:n.map(t=>(0,i.jsx)(l,{invitation:t,handleDelete:r},t.id))})]})]})}},6341:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var i=n(7437),a=n(7138);function s(){return(0,i.jsx)("header",{className:"bg-gray-800 text-white p-4",children:(0,i.jsxs)("nav",{className:"container mx-auto flex justify-between",children:[(0,i.jsx)(a.default,{href:"/",children:(0,i.jsx)("p",{className:"text-2xl",children:"INVITATION PLATFORM"})}),(0,i.jsx)(a.default,{href:"/invitation/new",children:(0,i.jsxs)("p",{className:"text-neutral-200 text-xl",children:[(0,i.jsx)("span",{className:"text2xl text-blue-500",children:"+"})," Create New Invitation"]})})]})})}},662:function(t,e,n){"use strict";n.d(e,{F:function(){return i}});let i=(0,n(9099).ZP)(t=>({invitations:[],addInvitation:e=>t(t=>({invitations:[...t.invitations,e]})),editInvitation:(e,n)=>t(t=>({invitations:t.invitations.map(t=>t.id===e?n:t)})),deleteInvitation:e=>t(t=>({invitations:t.invitations.filter(t=>t.id!==e)}))}))},2753:function(t){t.exports={loader:"Loader_loader__gANhr",l3:"Loader_l3__x1ISD"}}},function(t){t.O(0,[880,682,971,23,744],function(){return t(t.s=6054)}),_N_E=t.O()}]);