(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[452],{8920:function(e,t,n){Promise.resolve().then(n.bind(n,7647))},5870:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});let a="https://6672a7676ca902ae11b12eff.mockapi.io",i={async getInvitations(){let e=await fetch("".concat(a,"/invitations"));return await e.json()},async addInvitation(e){let t=await fetch("".concat(a,"/invitations"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()},async editInvitation(e,t){let n=await fetch("".concat(a,"/invitations/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await n.json()},deleteInvitation:async e=>(await fetch("".concat(a,"/invitations/").concat(e),{method:"DELETE"})).ok}},7647:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(7437),i=n(1169),s=n(2265),o=n(6341),l=e=>{let{invitation:t,contactType:n,router:i,handleSubmit:s,handleChange:o,handleContactTypeChange:l}=e,{title:c,message:r,date:u,time:d,location:h,contactInfo:m}=t;return(0,a.jsxs)("form",{onSubmit:s,className:"space-y-4",children:[(0,a.jsx)("input",{type:"text",name:"title",value:c,onChange:o,placeholder:"Title",className:"w-full p-2 border",required:!0}),(0,a.jsx)("textarea",{name:"message",value:r,onChange:o,placeholder:"Message",className:"w-full p-2 border",required:!0}),(0,a.jsx)("input",{type:"date",name:"date",value:u,onChange:o,className:"w-full p-2 border",required:!0}),(0,a.jsx)("input",{type:"time",name:"time",value:d,onChange:o,className:"w-full p-2 border",required:!0}),(0,a.jsx)("input",{type:"text",name:"location",value:h,onChange:o,placeholder:"Location",className:"w-full p-2 border",required:!0}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"mr-4",children:[(0,a.jsx)("input",{type:"radio",name:"contactType",value:"email",checked:"email"===n,onChange:l,className:"mr-1"}),"Email"]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",name:"contactType",value:"phone",checked:"phone"===n,onChange:l,className:"mr-1"}),"Phone"]})]}),"email"===n?(0,a.jsx)("input",{type:"email",name:"contactInfo",value:m,onChange:o,placeholder:"Email",className:"w-full p-2 border",required:!0}):(0,a.jsx)("input",{type:"tel",name:"contactInfo",value:m,onChange:o,placeholder:"Phone Number",className:"w-full p-2 border",required:!0}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>i.push("/"),className:"bg-gray-500 text-white p-2 rounded",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded",children:"Create"})]})]})},c=n(5870),r=n(662);function u(){let{id:e}=(0,i.useParams)(),t=(0,i.useRouter)(),{invitations:n,addInvitation:u,editInvitation:d}=(0,r.F)(),[h,m]=(0,s.useState)("email"),[p,f]=(0,s.useState)({title:"",message:"",date:"",time:"",location:"",contactInfo:"",contactType:""});(0,s.useEffect)(()=>{if(e&&"new"!==e){let t=n.find(t=>t.id===e);t&&f(t)}},[e,n]),(0,s.useEffect)(()=>{m(p.contactType||"email")},[e,p]);let x=async n=>{n.preventDefault();let a="new"===e?Date.now().toString():e,i={...p,id:a};try{"new"===e?(await c.b.addInvitation(i),u(i)):(await c.b.editInvitation(a,i),d(a,i)),t.push("/")}catch(e){console.error("Something went wrong",e)}};return(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{}),(0,a.jsxs)("main",{className:"container mx-auto p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"new"===e?"Create Invitation":"Edit Invitation"}),(0,a.jsx)(l,{id:e,invitation:p,contactType:h,router:t,handleSubmit:x,handleChange:e=>{let{name:t,value:n}=e.target;f({...p,[t]:n})},handleContactTypeChange:e=>{m(e.target.value),f({...p,contactType:e.target.value,contactInfo:""})}})]})]})}},6341:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(7437),i=n(7138);function s(){return(0,a.jsx)("header",{className:"bg-gray-800 text-white p-4",children:(0,a.jsxs)("nav",{className:"container mx-auto flex justify-between",children:[(0,a.jsx)(i.default,{href:"/",children:(0,a.jsx)("p",{className:"text-2xl",children:"INVITATION PLATFORM"})}),(0,a.jsx)(i.default,{href:"/invitation/new",children:(0,a.jsxs)("p",{className:"text-neutral-200 text-xl",children:[(0,a.jsx)("span",{className:"text2xl text-blue-500",children:"+"})," Create New Invitation"]})})]})})}},662:function(e,t,n){"use strict";n.d(t,{F:function(){return a}});let a=(0,n(9099).ZP)(e=>({invitations:[],addInvitation:t=>e(e=>({invitations:[...e.invitations,t]})),editInvitation:(t,n)=>e(e=>({invitations:e.invitations.map(e=>e.id===t?n:e)})),deleteInvitation:t=>e(e=>({invitations:e.invitations.filter(e=>e.id!==t)}))}))}},function(e){e.O(0,[682,971,23,744],function(){return e(e.s=8920)}),_N_E=e.O()}]);